<!doctype html>
<html class="no-js" lang="zxx">
<head>
<!-- Meta Tags -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="keywords" content="Site keywords here">
<meta name="description" content="">
<meta name='copyright' content=''>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- Title -->
<title>Get Started - JOEeXPRESS</title>
<!-- Favicon -->
<link rel="icon" href="img/favicon.png">
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Poppins:200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap" rel="stylesheet">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<!-- Nice Select CSS -->
<link rel="stylesheet" href="css/nice-select.css">
<!-- Font Awesome CSS -->
<link rel="stylesheet" href="css/font-awesome.min.css">
<!-- icofont CSS -->
<link rel="stylesheet" href="css/icofont.css">
<!-- Slicknav -->
<link rel="stylesheet" href="css/slicknav.min.css">
<!-- Owl Carousel CSS -->
<link rel="stylesheet" href="css/owl-carousel.css">
<!-- Datepicker CSS -->
<link rel="stylesheet" href="css/datepicker.css">
<!-- Animate CSS -->
<link rel="stylesheet" href="css/animate.min.css">
<!-- Magnific Popup CSS -->
<link rel="stylesheet" href="css/magnific-popup.css">

<!--Other CSS -->
<link rel="stylesheet" href="css/normalize.css">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="css/responsive.css">

<!-- Supabase -->
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>

<style>
.auth-container {
    max-width: 600px;
    margin: 0 auto;
    background: white;
    border-radius: 10px;
    box-shadow: 0 5px 25px rgba(0,0,0,0.1);
    overflow: hidden;
}

.auth-tabs {
    display: flex;
    background: #f8f9fa;
}

.auth-tab {
    flex: 1;
    padding: 15px 20px;
    text-align: center;
    background: none;
    border: none;
    cursor: pointer;
    font-weight: 500;
    color: #666;
    transition: all 0.3s ease;
}

.auth-tab.active {
    background: white;
    color: #1A76F0;
    border-bottom: 2px solid #1A76F0;
}

.auth-form {
    padding: 40px;
    display: none;
}

.auth-form.active {
    display: block;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #333;
}

.form-group input,
.form-group select {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
    transition: border-color 0.3s ease;
}

.form-group input:focus,
.form-group select:focus {
    outline: none;
    border-color: #1A76F0;
    box-shadow: 0 0 0 2px rgba(26, 118, 240, 0.1);
}

.btn-auth {
    width: 100%;
    padding: 12px;
    background: #1A76F0;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.btn-auth:hover {
    background: #0d5cb5;
}

.btn-auth:disabled {
    background: #ccc;
    cursor: not-allowed;
}

.error-message {
    background: #fee;
    color: #c33;
    padding: 10px 15px;
    border-radius: 5px;
    margin-bottom: 20px;
    border-left: 4px solid #c33;
}

.success-message {
    background: #efe;
    color: #363;
    padding: 10px 15px;
    border-radius: 5px;
    margin-bottom: 20px;
    border-left: 4px solid #363;
}

.dashboard-container {
    max-width: 800px;
    margin: 0 auto;
    background: white;
    border-radius: 10px;
    box-shadow: 0 5px 25px rgba(0,0,0,0.1);
    padding: 40px;
    text-align: center;
}

.user-info {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
}

.logout-btn {
    background: #dc3545;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    margin-top: 20px;
}

.logout-btn:hover {
    background: #c82333;
}
</style>

</head>
<body>

<!-- Header Area -->
<header class="header" >
<!-- Header Inner -->
<div class="header-inner">
<div class="container">
<div class="inner">
<div class="row">
<div class="col-lg-3 col-md-3 col-12">
<!-- Start Logo -->
<div class="logo">
<a href="index.html"><img src="images/JE Techhub logo.png"></a>
</div>
<!-- End Logo -->
<!-- Mobile Nav -->
<div class="mobile-nav"></div>
<!-- End Mobile Nav -->
</div>
<div class="col-lg-7 col-md-9 col-12">
<!-- Main Menu -->
<div class="main-menu">
<nav class="navigation">
<ul class="nav menu">
<li><a href="index.html">Home</a></li>
<li><a href="about.html">About Us</a></li>
<li><a href='programs.html'>Programs</a></li>
<li><a href="contact.html">Contact Us</a></li>
</ul>
</nav>
</div>
<!--/ End Main Menu -->
</div>
</div>
</div>
</div>
</div>
<!--/ End Header Inner -->
</header>
<!-- End Header Area -->

<!-- Breadcrumbs -->
<div class="breadcrumbs overlay">
<div class="container">
<div class="row">
<div class="col-12">
<div class="bread-inner">
<div class="row">
<div class="col-12">
<h2>Get Started</h2>
<ul class="bread-list">
<li><a href="index.html">Home</a></li>
<li><i class="icofont-simple-right"></i></li>
<li class="active">Get Started</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- End Breadcrumbs -->

<!-- Get Started Section -->
<section class="get-started section">
<div class="container">
<div class="row">
<div class="col-lg-12">
<div class="section-title">
<h2>Join JE TechHub Today</h2>
<img src="images/section-img.png" alt="#">
<p>Start your journey with us and unlock your potential in technology</p>
</div>
</div>
</div>
<div class="row">
<div class="col-lg-12">

<!-- Authentication Container -->
<div id="authContainer" class="auth-container">
<!-- Auth Tabs -->
<div class="auth-tabs">
<button class="auth-tab active" onclick="showTab('signin')">Sign In</button>
<button class="auth-tab" onclick="showTab('signup')">Sign Up</button>
</div>

<!-- Sign In Form -->
<div id="signinForm" class="auth-form active">
<h3 style="margin-bottom: 30px; text-align: center; color: #333;">Welcome Back</h3>
<div id="signinMessage"></div>
<form id="signinFormElement">
<div class="form-group">
<label for="signinEmail">Email Address</label>
<input type="email" id="signinEmail" required>
</div>
<div class="form-group">
<label for="signinPassword">Password</label>
<input type="password" id="signinPassword" required>
</div>
<button type="submit" class="btn-auth" id="signinBtn">Sign In</button>
</form>
</div>

<!-- Sign Up Form -->
<div id="signupForm" class="auth-form">
<h3 style="margin-bottom: 30px; text-align: center; color: #333;">Create Account</h3>
<div id="signupMessage"></div>
<form id="signupFormElement">
<div class="row">
<div class="col-md-6">
<div class="form-group">
<label for="firstName">First Name</label>
<input type="text" id="firstName" required>
</div>
</div>
<div class="col-md-6">
<div class="form-group">
<label for="lastName">Last Name</label>
<input type="text" id="lastName" required>
</div>
</div>
</div>
<div class="form-group">
<label for="signupEmail">Email Address</label>
<input type="email" id="signupEmail" required>
</div>
<div class="form-group">
<label for="phone">Phone Number</label>
<input type="tel" id="phone" required>
</div>
<div class="form-group">
<label for="course">Course of Interest</label>
<select id="course" required>
<option value="">Select a course</option>
<option value="Web Development">Web Development</option>
<option value="UI/UX Design">UI/UX Design</option>
<option value="Data Analysis">Data Analysis</option>
<option value="Graphics Design">Graphics Design</option>
<option value="Video Editing">Video Editing</option>
<option value="Forex Trading">Forex Trading</option>
<option value="Phone Repair">Phone Repair</option>
</select>
</div>
<div class="form-group">
<label for="signupPassword">Password</label>
<input type="password" id="signupPassword" required minlength="6">
</div>
<div class="form-group">
<label for="confirmPassword">Confirm Password</label>
<input type="password" id="confirmPassword" required minlength="6">
</div>
<button type="submit" class="btn-auth" id="signupBtn">Create Account</button>
</form>
</div>
</div>

<!-- Dashboard Container (hidden by default) -->
<div id="dashboardContainer" class="dashboard-container" style="display: none;">
<h2>Welcome to Your Dashboard!</h2>
<p>You have successfully logged in to JE TechHub.</p>
<div id="userInfo" class="user-info">
<!-- User information will be populated here -->
</div>
<p>You can now access all our courses and resources.</p>
<button class="logout-btn" onclick="logout()">Logout</button>
</div>

</div>
</div>
</div>
</section>
<!-- End Get Started Section -->

<!-- Footer Area -->
<footer id="footer" class="footer ">
<!-- Footer Top -->
<div class="footer-top">
<div class="container">
<div class="row">
<div class="col-lg-3 col-md-6 col-12">
<div class="single-footer">
<h2>About Us</h2>
<p>JE TechHub is dedicated to providing quality technology education and empowering individuals with essential digital skills.</p>
<!-- Social -->
<ul class="social">
<li><a href="https://www.instagram.com/joe.express1?igsh=NXZjcnFoZWI1bWI0&utm_source=qr"><i class="icofont-instagram"></i></a></li>
<li><a href="#"><i class="icofont-google-plus"></i></a></li>
<li><a href="#"><i class="icofont-twitter"></i></a></li>
<li><a href="#"><i class="icofont-vimeo"></i></a></li>
<li><a href="#"><i class="icofont-pinterest"></i></a></li>
</ul>
<!-- End Social -->
</div>
</div>
<div class="col-lg-3 col-md-6 col-12">
<div class="single-footer f-link">
<h2>Quick Links</h2>
<div class="row">
<div class="col-lg-6 col-md-6 col-12">
<ul>
<li><a href="index.html"><i class="fa fa-caret-right" aria-hidden="true"></i>Home</a></li>
<li><a href="about.html"><i class="fa fa-caret-right" aria-hidden="true"></i>About Us</a></li>
<li><a href="programs.html"><i class="fa fa-caret-right" aria-hidden="true"></i>Services</a></li>
<li><a href="contact.html"><i class="fa fa-caret-right" aria-hidden="true"></i>Contact Us</a></li>
</ul>
</div>
</div>
</div>
</div>
<div class="col-lg-3 col-md-6 col-12">
<div class="single-footer">
<h2>Open Hours</h2>
<ul class="time-sidual">
<li class="day">Mondays - Fridays <span>8.00-20.00</span></li>
<li class="day">Saturdays <span>9.00-18.30</span></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<!--/ End Footer Top -->
<!-- Copyright -->
<div class="copyright">
<div class="container">
<div class="row">
<div class="col-lg-12 col-md-12 col-12">
<div class="copyright-content">
<p>© Copyright 2018 | All Rights Reserved</p>
</div>
</div>
</div>
</div>
</div>
<!--/ End Copyright -->
</footer>
<!--/ End Footer Area -->

<!-- Authentication JavaScript -->
<script>
// Initialize Supabase
const supabaseUrl = 'https://icqzgoagqosthgipepdq.supabase.co';
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImljcXpnb2FncW9zdGhnaXBlcGRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkwODI1NzAsImV4cCI6MjA2NDY1ODU3MH0.nzLqXrmUOmplR71fW-fumg58DiUOs_cKDqmjeuT8Yrg';

const supabase = window.supabase.createClient(supabaseUrl, supabaseKey, {
    auth: {
        storage: localStorage,
        persistSession: true,
        autoRefreshToken: true,
    }
});

// Global variables
let currentUser = null;
let currentSession = null;

// Initialize app on page load
document.addEventListener('DOMContentLoaded', function() {
    initializeAuth();
    setupFormHandlers();
});

// Initialize authentication
async function initializeAuth() {
    // Set up auth state listener
    supabase.auth.onAuthStateChange((event, session) => {
        currentSession = session;
        currentUser = session?.user ?? null;
        
        if (currentUser) {
            showDashboard();
        } else {
            showAuthForms();
        }
    });

    // Check for existing session
    const { data: { session } } = await supabase.auth.getSession();
    currentSession = session;
    currentUser = session?.user ?? null;
    
    if (currentUser) {
        showDashboard();
    } else {
        showAuthForms();
    }
}

// Setup form handlers
function setupFormHandlers() {
    // Sign in form
    document.getElementById('signinFormElement').addEventListener('submit', handleSignIn);
    
    // Sign up form
    document.getElementById('signupFormElement').addEventListener('submit', handleSignUp);
}

// Handle sign in
async function handleSignIn(e) {
    e.preventDefault();
    
    const email = document.getElementById('signinEmail').value;
    const password = document.getElementById('signinPassword').value;
    const btn = document.getElementById('signinBtn');
    const messageDiv = document.getElementById('signinMessage');
    
    // Disable button and show loading
    btn.disabled = true;
    btn.textContent = 'Signing In...';
    messageDiv.innerHTML = '';
    
    try {
        const { data, error } = await supabase.auth.signInWithPassword({
            email: email,
            password: password
        });
        
        if (error) throw error;
        
        // Success - auth state change will handle the redirect
        showMessage('signinMessage', 'Sign in successful! Redirecting...', 'success');
        
    } catch (error) {
        console.error('Sign in error:', error);
        showMessage('signinMessage', error.message, 'error');
    } finally {
        btn.disabled = false;
        btn.textContent = 'Sign In';
    }
}

// Handle sign up
async function handleSignUp(e) {
    e.preventDefault();
    
    const firstName = document.getElementById('firstName').value;
    const lastName = document.getElementById('lastName').value;
    const email = document.getElementById('signupEmail').value;
    const phone = document.getElementById('phone').value;
    const course = document.getElementById('course').value;
    const password = document.getElementById('signupPassword').value;
    const confirmPassword = document.getElementById('confirmPassword').value;
    const btn = document.getElementById('signupBtn');
    const messageDiv = document.getElementById('signupMessage');
    
    // Validate passwords match
    if (password !== confirmPassword) {
        showMessage('signupMessage', 'Passwords do not match!', 'error');
        return;
    }
    
    // Disable button and show loading
    btn.disabled = true;
    btn.textContent = 'Creating Account...';
    messageDiv.innerHTML = '';
    
    try {
        const { data, error } = await supabase.auth.signUp({
            email: email,
            password: password,
            options: {
                data: {
                    first_name: firstName,
                    last_name: lastName,
                    full_name: `${firstName} ${lastName}`,
                    phone: phone,
                    course: course
                },
                emailRedirectTo: `${window.location.origin}/getStarted.html`
            }
        });
        
        if (error) throw error;
        
        if (data.user && !data.session) {
            showMessage('signupMessage', 'Please check your email for verification link!', 'success');
        } else if (data.session) {
            showMessage('signupMessage', 'Account created successfully! Redirecting...', 'success');
        }
        
    } catch (error) {
        console.error('Sign up error:', error);
        showMessage('signupMessage', error.message, 'error');
    } finally {
        btn.disabled = false;
        btn.textContent = 'Create Account';
    }
}

// Show message
function showMessage(containerId, message, type) {
    const container = document.getElementById(containerId);
    const className = type === 'error' ? 'error-message' : 'success-message';
    container.innerHTML = `<div class="${className}">${message}</div>`;
}

// Show tab
function showTab(tab) {
    // Update tab buttons
    document.querySelectorAll('.auth-tab').forEach(btn => btn.classList.remove('active'));
    document.querySelector(`[onclick="showTab('${tab}')"]`).classList.add('active');
    
    // Update forms
    document.querySelectorAll('.auth-form').forEach(form => form.classList.remove('active'));
    document.getElementById(tab + 'Form').classList.add('active');
    
    // Clear messages
    document.getElementById('signinMessage').innerHTML = '';
    document.getElementById('signupMessage').innerHTML = '';
}

// Show dashboard
async function showDashboard() {
    document.getElementById('authContainer').style.display = 'none';
    document.getElementById('dashboardContainer').style.display = 'block';
    
    // Load user profile
    if (currentUser) {
        try {
            const { data: profile, error } = await supabase
                .from('profiles')
                .select('*')
                .eq('id', currentUser.id)
                .single();
            
            if (error) throw error;
            
            const userInfoDiv = document.getElementById('userInfo');
            userInfoDiv.innerHTML = `
                <h4>Your Profile</h4>
                <p><strong>Name:</strong> ${profile.full_name || 'Not provided'}</p>
                <p><strong>Email:</strong> ${profile.email || currentUser.email}</p>
                <p><strong>Phone:</strong> ${profile.phone || 'Not provided'}</p>
                <p><strong>Course:</strong> ${profile.course || 'Not selected'}</p>
                <p><strong>Joined:</strong> ${new Date(profile.created_at).toLocaleDateString()}</p>
            `;
        } catch (error) {
            console.error('Error loading profile:', error);
            document.getElementById('userInfo').innerHTML = `
                <h4>Welcome!</h4>
                <p><strong>Email:</strong> ${currentUser.email}</p>
            `;
        }
    }
}

// Show auth forms
function showAuthForms() {
    document.getElementById('authContainer').style.display = 'block';
    document.getElementById('dashboardContainer').style.display = 'none';
}

// Logout
async function logout() {
    try {
        const { error } = await supabase.auth.signOut();
        if (error) throw error;
        
        // Auth state change will handle showing the forms
    } catch (error) {
        console.error('Logout error:', error);
        alert('Error logging out. Please try again.');
    }
}
</script>

<!-- jquery Min JS -->
<script src="js/jquery.min.js"></script>
<!-- jquery Migrate JS -->
<script src="js/jquery-migrate-3.0.0.js"></script>
<!-- jquery Ui JS -->
<script src="js/jquery-ui.min.js"></script>
<!-- Easing JS -->
<script src="js/easing.js"></script>
<!-- Color JS -->
<script src="js/colors.js"></script>
<!-- Popper JS -->
<script src="js/popper.min.js"></script>
<!-- Bootstrap Datepicker JS -->
<script src="js/bootstrap-datepicker.js"></script>
<!-- Jquery Nav JS -->
<script src="js/jquery.nav.js"></script>
<!-- Slicknav JS -->
<script src="js/slicknav.min.js"></script>
<!-- ScrollUp JS -->
<script src="js/jquery.scrollUp.min.js"></script>
<!-- Niceselect JS -->
<script src="js/niceselect.js"></script>
<!-- Tilt Jquery JS -->
<script src="js/tilt.jquery.min.js"></script>
<!-- Owl Carousel JS -->
<script src="js/owl-carousel.js"></script>
<!-- counterup JS -->
<script src="js/jquery.counterup.min.js"></script>
<!-- Steller JS -->
<script src="js/steller.js"></script>
<!-- Wow JS -->
<script src="js/wow.min.js"></script>
<!-- Magnific Popup JS -->
<script src="js/jquery.magnific-popup.min.js"></script>
<!-- Counter Up CDN JS -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.3/waypoints.min.js"></script>
<!-- Bootstrap JS -->
<script src="js/bootstrap.min.js"></script>
<!-- Main JS -->
<script src="js/main.js"></script>
</body>
</html>
